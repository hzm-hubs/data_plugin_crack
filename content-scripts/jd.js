var jd=function(){"use strict";var kt=Object.defineProperty;var Wt=(k,q,E)=>q in k?kt(k,q,{enumerable:!0,configurable:!0,writable:!0,value:E}):k[q]=E;var p=(k,q,E)=>Wt(k,typeof q!="symbol"?q+"":q,E);var $e,Fe;function k(t){return t}const E=(Fe=($e=globalThis.browser)==null?void 0:$e.runtime)!=null&&Fe.id?globalThis.browser:globalThis.chrome,Q={"sycm.taobao":{name:"生意参谋",domain:"sycm.taobao",fullDomain:"sycm.taobao.com"},"one.alimama":{name:"阿里妈妈万象台",domain:"one.alimama",fullDomain:"one.alimama.com"},taobao:{name:"淘宝",domain:"taobao",fullDomain:"taobao.com"},tmall:{name:"天猫",domain:"tmall",fullDomain:"tmall.com"},tmallhk:{name:"天猫国际",domain:"tmallhk",fullDomain:"tmall.hk"},douyin:{name:"抖音",domain:"douyin",fullDomain:"douyin.com"},xiaohongshu:{name:"小红书",domain:"xiaohongshu",fullDomain:"xiaohongshu.com"},jd:{name:"京东",domain:"jd",fullDomain:"jd.com"},tiktok:{name:"tiktok",domain:"tiktok",fullDomain:"tiktok.com"},youtube:{name:"youtube",domain:"youtube",fullDomain:"youtube.com"},other:{name:"其他",domain:"other",fullDomain:"other"}};function Be(t){console.log("getDomain",t),t||(t=window.location.href);for(let e in Q)if(t.includes(Q[e].fullDomain))return Q[e].domain;return Q.other.domain}function Ye(t,e="data_"){return t&&t.indexOf("https://sycm.taobao.com/cc/customer/trip")===0?t="https://sycm.taobao.com/cc/customer/trip":t&&t.indexOf("https://sycm.taobao.com/cc/customer/overview")===0?t="https://sycm.taobao.com/cc/customer/overview":t&&t.indexOf("https://one.alimama.com/index.html#!/manage/onesite")===0&&(t="https://one.alimama.com/index.html#!/manage/onesite"),e+btoa(t)}function Xe(){return new Promise(t=>{const e=document.body.scrollHeight,n=e/10;let o=0;const s=setInterval(()=>{o<e?(window.scrollTo(0,o),o+=n):(window.scrollTo(0,0),clearInterval(s),t(!0))},200)})}function Te(t,e=5e3){return new Promise((n,o)=>{console.log(`等待元素加载: ${t}, 超时: ${e}ms`);const s=document.querySelector(t);if(s)return n(s);const r=setTimeout(()=>{if(i){i.disconnect(),console.log(`等待元素超时: ${t}`);const a=document.querySelector(t);a?n(a):o(new Error(`等待元素超时: ${t}`))}},e),i=new MutationObserver((a,l)=>{const d=document.querySelector(t);d&&(clearTimeout(r),l.disconnect(),n(d))});i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","data-e2e"]}),console.log("MutationObserver已启动")})}class Ge{constructor(){p(this,"sleep",e=>new Promise(n=>setTimeout(n,e)));p(this,"runDelay",async(e,n)=>new Promise(o=>setTimeout(()=>{o(e())},n)));p(this,"sendMessage",e=>{E.runtime.sendMessage({action:"updateStatus",status:e})});p(this,"sendDataWithAction",(e,n)=>{E.runtime.sendMessage({action:n,data:e})});p(this,"openPopup",(e=-1)=>{E.runtime.sendMessage({action:"openPopup",windowId:e})});p(this,"openSidePanel",(e=-1)=>{E.runtime.sendMessage({action:"openSidePanel",windowId:e})});p(this,"elementHover",(e,n=!0)=>{e.dispatchEvent(new MouseEvent(n?"mouseover":"mouseout",{bubbles:!0}))});p(this,"setElementAnimation",e=>{const n="266A247A-6C68-4F89-8D11-B767B4E7A71C",o="animation_"+n.slice(0,8),s="class_"+n.slice(0,8);if(!document.head.querySelector(`style[data-id='${n}']`)){const r=document.createElement("style");r.type="text/css",r.setAttribute("data-id",n);const i=`
      @keyframes ${o}{
        to {  background-color :rgb(255, 0, 0);
              border: 1px solid blue;
              border-radius: 3px;
        }
      }
    `,a=`
      .${s} {
        animation: ${o} 0.5s ease-in-out 0s 2 alternate none;
      }
    `;r.innerHTML=i+a,document.head.appendChild(r)}return e.classList.remove(s),e.offsetHeight,e.classList.add(s),e});p(this,"waitForChildListChange",async(e,n,o=5e3)=>new Promise((s,r)=>{const i=setTimeout(()=>{a&&(a.disconnect(),console.log("等待元素更新超时: ",n,`超时时间：${o}ms`),s(!1))},o),a=new MutationObserver((l,d)=>{if(l.length>0)for(const f of l)if(f.type==="attributes")f.attributeName;else if(f.type==="childList"){clearTimeout(i),d.disconnect(),s(!0);return}else f.type});a.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}),e&&e()}));p(this,"waitForElementTextChange",async(e,n,o=5e3)=>new Promise((s,r)=>{console.log("等待元素更新:",n,` 超时: ${o}ms`);const i=setTimeout(()=>{a&&(a.disconnect(),console.log("等待元素更新超时: ",n,`超时时间：${o}ms`),s(!1))},o),a=new MutationObserver((l,d)=>{if(l.length>0){for(const f of l)if(f.type==="attributes")f.attributeName;else if(f.type!=="childList"){if(f.type==="characterData"){clearTimeout(i),d.disconnect(),s(!0);return}}}});a.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}),e&&e()}));p(this,"waitForElementAttrChange",async(e,n,o=5e3)=>new Promise((s,r)=>{console.log("等待元素属性更新:",n,` 超时: ${o}ms`);const i=setTimeout(()=>{a&&(a.disconnect(),console.log("等待元素属性更新超时: ",n,`超时时间：${o}ms`),s(!1))},o),a=new MutationObserver((l,d)=>{if(l.length>0)for(const f of l)if(f.type==="attributes"){f.attributeName,clearTimeout(i),d.disconnect(),s(!0);return}else f.type==="childList"||f.type});a.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}),e&&e()}));p(this,"waitForElementListTextChange",async(e,n,o=5e3,s=!0)=>{let r=[];return new Promise((i,a)=>{n.forEach(l=>{this.waitForElementTextChange(()=>{},l,o).then(async d=>{r.push({target:l,result:d}),s?r.length===n.length&&i(r):r.length==1&&(await this.sleep(500),i(r))})}),e&&e()})});p(this,"waitForElementListAttrChange",async(e,n,o=5e3,s=!0)=>{let r=[];return new Promise((i,a)=>{n.forEach(l=>{this.waitForElementAttrChange(()=>{},l,o).then(async d=>{r.push({target:l,result:d}),s?r.length===n.length&&i(r):r.length==1&&(await this.sleep(500),i(r))})}),e&&e()})});p(this,"waitForElementRemove",async(e,n=5e3)=>new Promise((o,s)=>{const i=n/10;let a=0;const l=setInterval(()=>{if(!document.querySelector(e)){clearInterval(l),o(!0);return}a++,a<i?console.log("等待元素移除:",e,` 超时: ${n}ms`,`剩余时间：${n-a*10}ms`):(console.log("等待元素移除超时: ",e,`超时时间：${n}ms`),clearInterval(l),s(!1))},10)}));p(this,"scrollToElementTop",e=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})});p(this,"scrollToElement",e=>{e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})});p(this,"scrollToElementBottom",e=>{e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})});p(this,"ensureElementVisible",e=>{let n=e;for(;n&&n!==document.body;){const a=n.parentElement;if(!a)break;const l=a.scrollHeight>a.clientHeight,d=a.scrollWidth>a.clientWidth;if(l||d){const f=a.getBoundingClientRect(),m=n.getBoundingClientRect();l&&(m.top<f.top?a.scrollTop-=f.top-m.top:m.bottom>f.bottom&&(a.scrollTop+=m.bottom-f.bottom)),d&&(m.left<f.left?a.scrollLeft-=f.left-m.left:m.right>f.right&&(a.scrollLeft+=m.right-f.right))}n=a}const o=window.scrollY,s=o+window.innerHeight,r=e.offsetTop,i=r+e.offsetHeight;r<o?window.scrollTo({top:r,behavior:"smooth"}):i>s&&window.scrollTo({top:i-window.innerHeight,behavior:"smooth"})});p(this,"getTextNodeValue",(e,n=!1)=>{this.setElementAnimation(e);const o=Array.from(e.childNodes).filter(s=>s.nodeType===Node.TEXT_NODE).map(s=>s.textContent).join("");return n?+o.replace(/[^\d-.]/g,""):o});p(this,"getElementText",(e,n=!0)=>e?(n&&this.setElementAnimation(e),e.textContent):"");p(this,"getElementTextToNumber",(e,n=!0)=>{if(e){const o=this.getElementText(e,n).replace(/[^\d-.]/g,"");return o&&!isNaN(o)?+o:o}return 0});p(this,"getUserInputNumber",async(e=10,n="请输入最大数据条数，默认10条，最小1条，最大100条",o=100)=>{let s=await this.showInput(n,e,o);for(;s;){let r=0;if(!isNaN(s)&&(r=parseInt(s),r>0&&r<=o)){e=r;break}s=await this.showInput(n,e,o)}return e});p(this,"waitElementInViewportUseObserver",async(e,n=5e3)=>new Promise((o,s)=>{this.isElementInViewport(e)&&o(!0),setTimeout(()=>{o(!1),r.disconnect()},n);const r=new IntersectionObserver(i=>{i.forEach(async a=>{a.isIntersecting&&(o(!0),r.disconnect())})});if(!e)return s("元素不存在");this.scrollToElement(e),r.observe(e)}));p(this,"waitElementInViewportUseClientRect",async(e,n=!1,o=5e3)=>{new Promise(async(s,r)=>{if(!e||typeof e.getBoundingClientRect!="function")return s(!1);let i=null;const a=()=>{const m=e.getBoundingClientRect(),g=window.innerHeight||document.documentElement.clientHeight,I=window.innerWidth||document.documentElement.clientWidth;let _=!1;if(n)_=m.top>=0&&m.bottom<=g&&m.left>=0&&m.right<=I;else{const S=m.top<=g&&m.bottom>=0,C=m.left<=I&&m.right>=0;_=S&&C}_&&(i&&clearInterval(i),s(!0))},l=10,d=parseInt(o/l+"")>0?parseInt(o/l+""):1;let f=0;i=setInterval(()=>{f++,f>d?(i&&clearInterval(i),s(!1)):a()},l)})});p(this,"isElementInViewport",e=>{const n=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth;return n.top<o&&n.bottom>0&&n.left<s&&n.right>0});p(this,"getItemTextAndLog",(e,n,o,s="")=>{const r=this.querySelector(e,n);let i=this.getElementText(r);return s&&(i=(r==null?void 0:r.getAttribute(s))||""),o&&!r&&console.log(o),i});p(this,"waitForResult",async(e,n=5e3)=>{const o=Math.floor(n/100);for(let s=0;s<o;s++){if(await e())return!0;await this.sleep(100)}return!1});p(this,"getNumberText",e=>{const n=e.match(/[\.\d]+(千万)?(万亿)?[万|亿|k|K|m|M|b|B]?/);return n?n[0]:e})}deepScroll(e){return new Promise((n,o)=>{const s=[],r={element:e.element||window,duration:e.duration||500,easing:e.easing||"easeInOutQuad",scrollContainers:s,left:e.left,top:e.top,target:e.target,callback:e.callback};function i(u){const w=[];let h=u;for(;h&&h!==document.documentElement;)a(h)&&w.push(h),h=h.parentElement;return l()&&w.push(window),w}function a(u){if(u===window||!(u instanceof HTMLElement))return!0;const w=getComputedStyle(u),h=w.overflowY==="auto"||w.overflowY==="scroll",x=w.overflowX==="auto"||w.overflowX==="scroll";return h&&u.scrollHeight>u.clientHeight||x&&u.scrollWidth>u.clientWidth}function l(){return document.documentElement.scrollHeight>window.innerHeight}function d(u,w){const h=w.getBoundingClientRect();if(u instanceof Window)return{top:f(h.top-window.pageYOffset+window.outerHeight,h.height,window.innerHeight,window.outerHeight),left:f(h.left-window.pageXOffset+window.outerWidth,h.width,window.innerWidth,window.outerWidth)};const x=u.getBoundingClientRect();return{top:f(h.top-x.top+u.scrollTop,h.height,u.clientHeight,u.scrollTop),left:f(h.left-x.left+u.scrollLeft,h.width,u.clientWidth,u.scrollLeft)}}function f(u,w,h,x){const L=x,j=x+h,O=u+w;return u>=L&&O<=j?x:u<L?u:O-h}function m(u){return u instanceof Window?window.pageYOffset:u.scrollTop}function g(u){return u instanceof Window?window.pageXOffset:u.scrollLeft}function I(u,w,h){u instanceof Window?window.scrollTo(h,w):(u.scrollTop=w,u.scrollLeft=h)}if(r.target){const u=i(r.target);let w=r.target;u.forEach(h=>{const x=d(h,w);r.scrollContainers.push({element:h,startTop:m(h),targetTop:x.top,startLeft:g(h),targetLeft:x.left}),w=h})}else r.scrollContainers.push({element:r.element,startTop:m(r.element),targetTop:r.top??m(r.element),startLeft:g(r.element),targetLeft:r.left??g(r.element)});const _={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>u*(2-u),easeInOutQuad:u=>u<.5?2*u*u:-1+(4-2*u)*u},S=_[r.easing]||_.easeInOutQuad;let C=0;const M=()=>{var u;n(""),r.target,(u=r.callback)==null||u.call(r)},A=u=>{C||(C=u);const w=u-C,h=Math.min(w/r.duration,1),x=S(h);r.scrollContainers.forEach(({element:L,startTop:j,targetTop:O,startLeft:ie,targetLeft:Ie})=>{const ae=j+(O-j)*x,le=ie+(Ie-ie)*x;I(L,ae,le)}),w<r.duration?requestAnimationFrame(A):M()};requestAnimationFrame(A)})}async showInput(e,n,o){return new Promise((s,r)=>{E.runtime.sendMessage({action:"showInput",placeholder:e,defaultValue:n,max:o},i=>{s(i.value)})})}simpleUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}formatDateTime(e,n=!1){if(typeof e=="string")e=new Date(e);else if(typeof e=="number")e=new Date(e);else if(!(e instanceof Date))return"";if(isNaN(e))return"";const o={year:e.getFullYear(),mounth:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),ms:e.getMilliseconds()},s=(i,a=2)=>(i+"").padStart(a,"0");let r=`${o.year}-${s(o.mounth)}-${s(o.day)} ${s(o.hour)}:${s(o.minute)}:${s(o.second)}`;return n&&(r+=`:${o.ms}`),r}formatDate(e){const n=this.formatDateTime(e);return n?n.split(" ")[0]:""}parseChineseNumber(e){const n={万亿:1e12,千亿:1e11,百亿:1e10,十亿:1e9,亿:1e8,千万:1e7,百万:1e6,万:1e4,千:1e3,百:100,十:10,k:1e3,K:1e3,m:1e6,M:1e6,b:1e9,B:1e9,t:1e12,T:1e12};let o="";for(const d in n)o?o+="|"+d:o+=d;const s=String(e).match(new RegExp(`^(\\d+.?\\d*)([${o})]*)`));if(!s)return 0;const r=parseFloat(s[1]),i=s[2].trim(),a=Object.keys(n).find(d=>i.startsWith(d)),l=a?n[a]:1;return i==="千万"?r*1e7:r*l}querySelector(e,n=[]){let o=null;for(const s of n){const r=s.match(/(.+):contains\(['"](.+)['"]\)/);if(r){const i=r[1],a=r[2];if(o=e.querySelector(i),o&&o.textContent.includes(a))break}else if(o=e.querySelector(s),o)break}return o}querySelectorAll(e,n=[]){for(const o of n){const s=o.match(/(.+):contains\(['"](.+)['"]\)/);if(s){const r=s[1],i=s[2],a=e.querySelectorAll(r);if(a&&a.length>0)return Array.from(a).filter(d=>d.textContent.includes(i))}else{const r=e.querySelectorAll(o);if(r.length>0)return Array.from(r)}}return[]}querySelectorWithText(e,n=[],o=""){let s=null;for(const r of n)if(s=e.querySelectorAll(r),s.length>0){for(const i of s)if(i.textContent.includes(o))return i}return null}querySelectorAllWithText(e,n=[],o=""){let s=null;for(const r of n)if(s=e.querySelectorAll(r),s.length>0)return Array.from(s).filter(i=>i.textContent.includes(o));return[]}}const c=new Ge;function Qe(t){E.runtime.onMessage.addListener((e,n,o)=>{if(e.action==="getData")return console.log("收到获取数据请求"),(async()=>{try{const s=await Je(t);E.runtime.sendMessage({action:"dataReceived",data:s}),o({data:s})}catch(s){console.error("抓取数据时出错:",s),E.runtime.sendMessage({action:"dataError",error:s.message})}})(),o({action:"__default"}),!0})}async function Je(t){const e=window.location.href,n=Ye(e),o=Be(e);try{const s=await t(o,e);return console.log(`抓取到${o}数据:`,s),s.type=="unsupported"&&c.sendMessage("前页面不支持数据抓取"),await E.storage.local.set({[n]:{domain:o,type:s.type,data:s.data,timestamp:new Date().getTime(),fetchTime:s.fetchTime,url:e}}),s}catch(s){throw console.error("抓取过程中发生错误:",s),s}}/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ze(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ze=Object.assign,et=Object.prototype.hasOwnProperty,ce=(t,e)=>et.call(t,e),W=Array.isArray,J=t=>Ae(t)==="[object Map]",tt=t=>typeof t=="string",$=t=>typeof t=="symbol",z=t=>t!==null&&typeof t=="object",nt=Object.prototype.toString,Ae=t=>nt.call(t),st=t=>Ae(t).slice(8,-1),ue=t=>tt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Z=(t,e)=>!Object.is(t,e);/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot,Re=0,de;function fe(){Re++}function me(){if(--Re>0)return;let t;for(;de;){let e=de;for(de=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}let ee=!0;const je=[];function rt(){je.push(ee),ee=!1}function it(){const t=je.pop();ee=t===void 0?!0:t}class at{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){}trigger(e){this.version++,this.notify(e)}notify(e){fe();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{me()}}}const he=new WeakMap,P=Symbol(""),pe=Symbol(""),F=Symbol("");function T(t,e,n){if(ee&&ot){let o=he.get(t);o||he.set(t,o=new Map);let s=o.get(n);s||(o.set(n,s=new at),s.map=o,s.key=n),s.track()}}function D(t,e,n,o,s,r){const i=he.get(t);if(!i)return;const a=l=>{l&&l.trigger()};if(fe(),e==="clear")i.forEach(a);else{const l=W(t),d=l&&ue(n);if(l&&n==="length"){const f=Number(o);i.forEach((m,g)=>{(g==="length"||g===F||!$(g)&&g>=f)&&a(m)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(F)),e){case"add":l?d&&a(i.get("length")):(a(i.get(P)),J(t)&&a(i.get(pe)));break;case"delete":l||(a(i.get(P)),J(t)&&a(i.get(pe)));break;case"set":J(t)&&a(i.get(P));break}}me()}function H(t){const e=b(t);return e===t?e:(T(e,"iterate",F),N(t)?e:e.map(R))}function ge(t){return T(t=b(t),"iterate",F),t}const lt={__proto__:null,[Symbol.iterator](){return we(this,Symbol.iterator,R)},concat(...t){return H(this).concat(...t.map(e=>W(e)?H(e):e))},entries(){return we(this,"entries",t=>(t[1]=R(t[1]),t))},every(t,e){return V(this,"every",t,e,void 0,arguments)},filter(t,e){return V(this,"filter",t,e,n=>n.map(R),arguments)},find(t,e){return V(this,"find",t,e,R,arguments)},findIndex(t,e){return V(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return V(this,"findLast",t,e,R,arguments)},findLastIndex(t,e){return V(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return V(this,"forEach",t,e,void 0,arguments)},includes(...t){return be(this,"includes",t)},indexOf(...t){return be(this,"indexOf",t)},join(t){return H(this).join(t)},lastIndexOf(...t){return be(this,"lastIndexOf",t)},map(t,e){return V(this,"map",t,e,void 0,arguments)},pop(){return K(this,"pop")},push(...t){return K(this,"push",t)},reduce(t,...e){return Me(this,"reduce",t,e)},reduceRight(t,...e){return Me(this,"reduceRight",t,e)},shift(){return K(this,"shift")},some(t,e){return V(this,"some",t,e,void 0,arguments)},splice(...t){return K(this,"splice",t)},toReversed(){return H(this).toReversed()},toSorted(t){return H(this).toSorted(t)},toSpliced(...t){return H(this).toSpliced(...t)},unshift(...t){return K(this,"unshift",t)},values(){return we(this,"values",R)}};function we(t,e,n){const o=ge(t),s=o[e]();return o!==t&&!N(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const ct=Array.prototype;function V(t,e,n,o,s,r){const i=ge(t),a=i!==t&&!N(t),l=i[e];if(l!==ct[e]){const m=l.apply(t,r);return a?R(m):m}let d=n;i!==t&&(a?d=function(m,g){return n.call(this,R(m),g,t)}:n.length>2&&(d=function(m,g){return n.call(this,m,g,t)}));const f=l.call(i,d,o);return a&&s?s(f):f}function Me(t,e,n,o){const s=ge(t);let r=n;return s!==t&&(N(t)?n.length>3&&(r=function(i,a,l){return n.call(this,i,a,l,t)}):r=function(i,a,l){return n.call(this,i,R(a),l,t)}),s[e](r,...o)}function be(t,e,n){const o=b(t);T(o,"iterate",F);const s=o[e](...n);return(s===-1||s===!1)&&Et(n[0])?(n[0]=b(n[0]),o[e](...n)):s}function K(t,e,n=[]){rt(),fe();const o=b(t)[e].apply(t,n);return me(),it(),o}const ut=ze("__proto__,__v_isRef,__isVue"),Le=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($));function dt(t){$(t)||(t=String(t));const e=b(this);return T(e,"has",t),e.hasOwnProperty(t)}class Oe{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(s?r?xt:De:r?yt:qe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const i=W(e);if(!s){let l;if(i&&(l=lt[n]))return l;if(n==="hasOwnProperty")return dt}const a=Reflect.get(e,n,B(e)?e:o);return($(n)?Le.has(n):ut(n))||(s||T(e,"get",n),r)?a:B(a)?i&&ue(n)?a:a.value:z(a)?s?Pe(a):ye(a):a}}class ft extends Oe{constructor(e=!1){super(!1,e)}set(e,n,o,s){let r=e[n];if(!this._isShallow){const l=U(r);if(!N(o)&&!U(o)&&(r=b(r),o=b(o)),!W(e)&&B(r)&&!B(o))return l?!1:(r.value=o,!0)}const i=W(e)&&ue(n)?Number(n)<e.length:ce(e,n),a=Reflect.set(e,n,o,B(e)?e:s);return e===b(s)&&(i?Z(o,r)&&D(e,"set",n,o):D(e,"add",n,o)),a}deleteProperty(e,n){const o=ce(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&o&&D(e,"delete",n,void 0),s}has(e,n){const o=Reflect.has(e,n);return(!$(n)||!Le.has(n))&&T(e,"has",n),o}ownKeys(e){return T(e,"iterate",W(e)?"length":P),Reflect.ownKeys(e)}}class mt extends Oe{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ht=new ft,pt=new mt,ve=t=>t,te=t=>Reflect.getPrototypeOf(t);function gt(t,e,n){return function(...o){const s=this.__v_raw,r=b(s),i=J(r),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,d=s[t](...o),f=n?ve:e?xe:R;return!e&&T(r,"iterate",l?pe:P),{next(){const{value:m,done:g}=d.next();return g?{value:m,done:g}:{value:a?[f(m[0]),f(m[1])]:f(m),done:g}},[Symbol.iterator](){return this}}}}function ne(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wt(t,e){const n={get(s){const r=this.__v_raw,i=b(r),a=b(s);t||(Z(s,a)&&T(i,"get",s),T(i,"get",a));const{has:l}=te(i),d=e?ve:t?xe:R;if(l.call(i,s))return d(r.get(s));if(l.call(i,a))return d(r.get(a));r!==i&&r.get(s)},get size(){const s=this.__v_raw;return!t&&T(b(s),"iterate",P),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,i=b(r),a=b(s);return t||(Z(s,a)&&T(i,"has",s),T(i,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const i=this,a=i.__v_raw,l=b(a),d=e?ve:t?xe:R;return!t&&T(l,"iterate",P),a.forEach((f,m)=>s.call(r,d(f),d(m),i))}};return Ze(n,t?{add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear")}:{add(s){!e&&!N(s)&&!U(s)&&(s=b(s));const r=b(this);return te(r).has.call(r,s)||(r.add(s),D(r,"add",s,s)),this},set(s,r){!e&&!N(r)&&!U(r)&&(r=b(r));const i=b(this),{has:a,get:l}=te(i);let d=a.call(i,s);d||(s=b(s),d=a.call(i,s));const f=l.call(i,s);return i.set(s,r),d?Z(r,f)&&D(i,"set",s,r):D(i,"add",s,r),this},delete(s){const r=b(this),{has:i,get:a}=te(r);let l=i.call(r,s);l||(s=b(s),l=i.call(r,s)),a&&a.call(r,s);const d=r.delete(s);return l&&D(r,"delete",s,void 0),d},clear(){const s=b(this),r=s.size!==0,i=s.clear();return r&&D(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=gt(s,t,e)}),n}function Ve(t,e){const n=wt(t,e);return(o,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?o:Reflect.get(ce(n,s)&&s in o?n:o,s,r)}const bt={get:Ve(!1,!1)},vt={get:Ve(!0,!1)},qe=new WeakMap,yt=new WeakMap,De=new WeakMap,xt=new WeakMap;function _t(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function St(t){return t.__v_skip||!Object.isExtensible(t)?0:_t(st(t))}function ye(t){return U(t)?t:Ne(t,!1,ht,bt,qe)}function Pe(t){return Ne(t,!0,pt,vt,De)}function Ne(t,e,n,o,s){if(!z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=St(t);if(r===0)return t;const i=s.get(t);if(i)return i;const a=new Proxy(t,r===2?o:n);return s.set(t,a),a}function U(t){return!!(t&&t.__v_isReadonly)}function N(t){return!!(t&&t.__v_isShallow)}function Et(t){return t?!!t.__v_raw:!1}function b(t){const e=t&&t.__v_raw;return e?b(e):t}const R=t=>z(t)?ye(t):t,xe=t=>z(t)?Pe(t):t;function B(t){return t?t.__v_isRef===!0:!1}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */var ke;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ke||(ke={}));const _e=()=>({feishu:{label:"飞书多维表格设置",feishu_base_url:{value:"",max:200,defalutVaue:"",label:"多维表格URL",placeholder:"多维表格URL 例如: https://mideqnf1p7d.feishu.cn/base/TAAsbKNniaMaodss84tcEQSun3f?table=tbllpvh8BykaNQBM&view=vewvd05oOX"}},dignding:{label:"钉钉AI表格设置",appKey:{value:"",max:100,defalutVaue:"",label:"appKey",placeholder:"appKey"},appSecret:{value:"",max:100,defalutVaue:"",label:"appSecret",placeholder:"appSecret"},baseId:{value:"",max:100,defalutVaue:"",label:"baseId",placeholder:"baseId 文档Id"},phone:{value:"",max:100,defalutVaue:"",label:"手机号",placeholder:"钉钉用户绑定的手机号码"}},douyin:{label:"抖音设置",maxSearchListCount:{value:100,max:200,defalutVaue:100,label:"搜索列表数量",placeholder:"搜索列表数量"},maxUserVideoCount:{value:100,max:200,defalutVaue:100,label:"最大用户视频数量",placeholder:"最大用户视频数量"},maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}},xiaohongshu:{label:"小红书设置",maxSearchListCount:{value:100,max:200,defalutVaue:100,label:"搜索列表数量",placeholder:"搜索列表数量"},maxUserNoteCount:{value:100,max:200,defalutVaue:100,label:"最大用户笔记数量",placeholder:"最大用户笔记数量"},maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}},jd:{label:"京东设置",maxSearchListCount:{value:100,max:200,defalutVaue:100,label:"搜索列表数量",placeholder:"搜索列表数量"},maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}},taobao:{label:"淘宝设置",maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}},sycm_taobao:{label:"生意参谋设置",maxOverviewDataCount:{value:100,max:200,defalutVaue:100,label:"最大客户概况数量",placeholder:"最大客户概况数量"},maxCustomerTripDataCount:{value:100,max:200,defalutVaue:100,label:"最大客户旅程数量",placeholder:"最大客户旅程数量"},maxCustomerTripGoodsDataCount:{value:100,max:200,defalutVaue:100,label:"最大客户旅程商品数量",placeholder:"最大客户旅程商品数量"}},one_alimama:{label:"阿里妈妈万象台设置",maxGoodsListCount:{value:100,max:200,defalutVaue:100,label:"最大商品数量",placeholder:"最大商品数量"}},tiktok:{label:"tiktok设置",maxSearchListCount:{value:100,max:200,defalutVaue:100,label:"搜索列表数量",placeholder:"搜索列表数量"},maxUserVideoCount:{value:100,max:200,defalutVaue:100,label:"最大用户视频数量",placeholder:"最大用户视频数量"},maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}},youtube:{label:"tiktok设置",maxSearchListCount:{value:100,max:200,defalutVaue:100,label:"搜索列表数量",placeholder:"搜索列表数量"},maxUserVideoCount:{value:100,max:200,defalutVaue:100,label:"最大用户视频数量",placeholder:"最大用户视频数量"},maxCommentsCount:{value:100,max:200,defalutVaue:100,label:"最大评论数量",placeholder:"最大评论数量"}}});let Ct=_e();ye(Ct);const We="__setting",He=async()=>{var e=(await E.storage.local.get([We]))[We];if(e){const o=e;var n=_e();return Object.keys(n).forEach(s=>{s in o||(o[s]=n[s])}),o}else return _e()};async function It(){const t={searchList:[]},n=(await He()).jd.maxSearchListCount.value,o=()=>c.querySelector(document,[".plugin_goodsContainer","#searchCenter div[class^=_goodsContainer]","#searchCenter div[class^=_goodsContainer]","#searchCenter>div>div>div:last-child>div"]);let s=o();if(!s)throw c.sendMessage("msg"),new Error("msg");for(;t.searchList.length<n&&(await Tt(s,t,n),!(t.searchList.length>=n));){const r=c.querySelector(document,['div[class^="_pagination_center"] div[class^="_pagination_next"]']);if(!r)break;let i=!1;if(r.classList.forEach(l=>{l.includes("_disabled_")&&(i=!0)}),i)break;await c.waitForChildListChange(()=>{r.click()},s);let a=0;for(;a<=10;){const l=o();if(l&&!l.className.includes("_loading_")){s=l;break}await c.sleep(1e3)}}return t}async function Tt(t,e,n){const o=()=>{const i=c.querySelectorAll(t,[".plugin_goodsCardWrapper"]);return i.length===0&&i.push(...t.children),i};let s=o(),r=0;for(;;){for(let l=0;l<s.length;l++){if(r<=l)r=l;else continue;const d=s[l];c.scrollToElement(d),await c.waitElementInViewportUseObserver(d,5e3),await c.sleep(10)}let i=0;for(;i++<10;){await c.sleep(200);const l=o();if(l.length!==s.length){s=l;break}}if(o().length===s.length)break}s.forEach(i=>{if(e.searchList.length>=n)return;const a=c.querySelector(i,['div[class*="_goods_volume_"]>span[class*="_goods_volume_"]>span:last-child','div[class*="_info_"]>div[class*="_info_"]>div:nth-child(5)>span>span:last-child']),l=a?a.textContent:"",d=l.includes("好评")?l:"",f=l.includes("好评")?"":l,m=c.querySelector(i,['a[class^="_name_"] span','div[class*="_info_"]>div[class*="_info_"]>div:nth-child(6) a>span']),g=m?m.textContent:"",I=c.querySelector(i,['div[class*="goods_title"] span','div[class*="_info_"]>div[class*="_info_"] span']),_=I?I.textContent:"",S=c.querySelector(i,['span[class*="_price_"]','div[class*="_info_"]>div[class*="_info_"]>div:nth-child(3) span']),C=S?c.getTextNodeValue(S):"",M=c.querySelector(i,['div[class^="_wrapper_"] img',"img"]),A=M?M.getAttribute("data-src")??"":"",u=i.getAttribute("data-sku"),w=u?`https://item.jd.com/${u}.html`:"",h=c.querySelector(i,['div[class*="_goods_volume_"]>span[class*="_goods_volume_"]>span','div[class*="_info_"]>div[class*="_info_"]>div:nth-child(5)>span>span']),x=h?h.textContent.replaceAll("已售","").replaceAll("+",""):"",L={recommend:f,positiveRating:d,merchant:g,title:_,price:C,image:A.startsWith("http")?A:"https:"+A,link:w,sales:x};e.searchList.push(L)})}async function At(){const e=(await He()).jd.maxCommentsCount.value;let n={},s=c.querySelector(document,["div.product-intro","body>div.w>div"]);if(!s)throw c.sendMessage("msg"),new Error("msg");return n=await Rt(s,e),n}async function Rt(t,e){var ae,le,Ke;let n,o,s,r,i,a,l,d,f,m,g,I,_;await Xe();const S=c.querySelector(t,[".itemInfo-wrap .infomation .sku-name .sku-name-title .collect",".sku-name .sku-name-title .collect",".sku-name-title .collect",".collect"]);n=S&&S.getAttribute("data-id")||"";const C=c.querySelector(t,[".itemInfo-wrap .infomation .sku-name .sku-name-title .sku-name-title",".sku-name .sku-name-title .sku-name-title",".sku-name-title .sku-name-title",".sku-name-title"]);o=C?C.textContent:"";const M=c.querySelector(t,['div[class*="-price-"] div[class*="-price"]  div span.finalPrice span.price',"div.dd>span>span:nth-child(2)"]),A=c.querySelector(t,['div[class*="-price-"] div[class*="-price"]  div span.p-price.jdPrice span.price',"div.dd>span:nth-child(2)>span:nth-child(2)"]);s={discount:M?M.textContent:"",original:A?A.textContent:""},r="";const u=c.querySelectorAll(t,['#summary-quan dd [class*="-open-"]>span',"#summary-quan dd a>span"]);i=[];for(const v of u)v.textContent&&v.textContent.trim()&&i.push(v.textContent.trim());const w=c.querySelectorAll(t,[".spec-list #spec-list ul>li img",".spec-list ul>li img","#spec-list ul>li img"]);a=[];for(const v of w)c.scrollToElement(v),await c.waitElementInViewportUseObserver(v,2e3);await c.sleep(1e3);for(const v of w){let y=v.getAttribute("src");y&&!y.startsWith("http")&&(y="https:"+y),y&&a.push(y)}l=a.length>0?a[0]:"";const h=c.querySelector(t,[".spec-list #spec-list ul>li .video-play-icon",".spec-list ul>li .video-play-icon","#spec-list ul>li .video-play-icon"]);if(d="",h)try{await c.waitElementInViewportUseObserver(h),c.elementHover(h,!1),await c.sleep(500),c.elementHover(h,!0),await c.sleep(500);const v=c.querySelector(t,[".video-icon.J-video-icon"]);v&&(v.click(),await c.sleep(500)),d=(await Te(".video video")).src}catch(v){console.log(v.message),c.sendMessage(v.message)}f={info:"",freight:"",fromAddr:""};const x=c.querySelector(t,["#summary-supply #summary-service span.delivery",".summary-service span.delivery","span.delivery"]);f.info=x?x.textContent:"";const L=c.querySelector(t,[".services.ns_services_info","summary-stock .services.ns_services_info","summary-stock .ns_services_info","summary-stock .ns_services_info",".services",".ns_services_info"]);m=L?L.textContent:"",I={content:"",images:[]};const j=c.querySelectorAll(t,[".ssd-module-wrap .ssd-module",".detail-content .detail-content-wrap img",".detail-content-item .J-detail-content img",".J-detail-content img"]);for(let v of j){let y="";y=v.getAttribute("src")||"",y||(y=getComputedStyle(v).backgroundImage.replace("url(","").replace(")","").replace(/\"/gi,""),(y==="none"||!y)&&(y=((ae=c.querySelector(v,["img"]))==null?void 0:ae.getAttribute("src"))||"")),y&&(y.startsWith("http")||(y="https:"+y),I.images.push(y))}const O=c.querySelectorAll(t,[".goods-base div.item"]);for(let v of O){if(v.children.length<2)continue;let y=(v.children[0].textContent.trim()||"")+":"+(v.children[1].textContent.trim()||"");I.content+=y+`
`}g={skuKeys:[],skuValues:[]},_=[];const ie=c.querySelectorAll(t,["#choose-attrs div.p-choose",'#choose-attrs div[id^= "choose-attr-"]','div[id^= "choose-attr-"] ']);for(const v of ie){const y=((le=c.querySelector(v,["div.dt"]))==null?void 0:le.textContent)||"",Ue=[];let X="";const Dt=c.querySelectorAll(v,["div.item","div.dd>div"]);for(const G of Dt){X=X||(G.classList.contains("selected")?G.textContent.trim():"");const Pt=G.textContent.trim(),Nt=!G.classList.contains("disabled");Ue.push({imgUrl:((Ke=G.querySelector("img"))==null?void 0:Ke.src)||"",text:Pt,hasStock:Nt})}X&&(g.skuKeys.push(y),g.skuValues.push(X)),_.push({typeName:y,options:Ue})}const Ie=await jt(t,e,n);return{id:n,title:o,price:s,sales:r,coupons:i,images:a,mainImage:l,videoUrl:d,shipping:f,guarantee:m,sku:g,detail:I,skuOptions:_,comments:Ie}}async function jt(t,e=0,n){var f,m,g,I;let o="";const s=await c.querySelector(t,["div.all-btn","a:contains('全部评价')"]);if(!s)throw o="没有找到全部评价按钮",c.sendMessage(o),new Error(o);s.click();let r;try{r=await Te("#rateList",1e4)}catch{throw o="没有找到评论面板",c.sendMessage(o),new Error(o)}const i=[],a=async _=>{let S=0;for(;S++<100;){const C=c.querySelectorAll(r,["div[data-index]","div[data-item-index]",'div[data-testid="virtuoso-item-list"]>div',"[data-virtuoso-scroller]>div>div>div"]);if(C.length&&+(C[C.length-1].getAttribute("data-index")||0)>_)return C;await c.sleep(50)}return[]};let l=-1;for(;;){const _=await a(l);if(_.length==0||i.length>=e||_.length>0&&+(_[0].getAttribute("data-index")||0)>=e)break;for(const S of _){const C=+(S.getAttribute("data-index")||0);if(C<=l)continue;l=C;const M=()=>c.querySelectorAll(S,[".jdc-pc-rate-card-content .jdc-pc-rate-card-images img",".jdc-pc-rate-card-content .jd-content-pc-media-list img",".jdc-pc-rate-card-content .jd-content-pc-media-list-item img",".jdc-pc-rate-card-content .jdc-image img"]);let A=M();if(A.length>0){const j=A.filter(O=>O.src.includes("5b7f9b7bN3ccd29ab.png"));j.length>0&&await c.waitForElementListAttrChange(()=>{j.forEach(O=>{c.scrollToElement(O)})},j,5e3,!0)}else c.scrollToElementTop(S);A=M();const u=A.map(j=>j.src),w=((f=c.querySelector(S,[".jdc-pc-rate-card-user span","span.jdc-pc-rate-card-nick"]))==null?void 0:f.textContent)||"",h=((m=c.querySelector(S,[".jdc-pc-rate-card-content .jdc-pc-rate-card-main",".jdc-pc-rate-card-content .jdc-pc-rate-card-main-desc"]))==null?void 0:m.textContent)||"",x=((g=c.querySelector(S,[".date.list",".jdc-pc-rate-card-content .jdc-pc-rate-card-info .jdc-pc-rate-card-info-left>span:nth-child(4)"]))==null?void 0:g.textContent)||"",L=((I=c.querySelector(S,[".info",".jdc-pc-rate-card-content .jdc-pc-rate-card-info .jdc-pc-rate-card-info-left>span:last-child"]))==null?void 0:I.textContent)||"";if(i.push({content:h,imgList:u,parentId:n,purchaseDate:x,purchaseSpec:L,userName:w}),i.length>=e)break}await c.sleep(50)}const d=c.querySelector(r,['[class*="_closeIcon_"]','[class*="_title_"]>div:last-child','[class*="closeIcon"]','[class*="title"]>div:last-child']);return d&&(await c.sleep(1e3),d.click()),i}const Mt={matches:["*://search.jd.com/Search*","*://item.jd.com/*"],main:t=>{console.log("Hello jd content."),Qe(Lt)}};async function Lt(t,e){let n,o="unsupported";console.log("当前域名:",t),console.log("当前URL:",e),e.toLocaleLowerCase().includes("/search")?(console.log("检测到京东搜索页面，开始抓取商品搜索数据"),n=await It(),o="search"):e.toLocaleLowerCase().includes("item.jd.com")?(console.log("检测到京东详情页面，开始抓取商品详情数据"),n=await At(),o="detail"):console.log("不是支持的京东页面类型，抓取跳过");const s=new Date().toLocaleString(),r={domain:t,type:o,data:n,fetchTime:s};return console.log("抓取结果:",r),r}function se(t,...e){}const Ot={debug:(...t)=>se(console.debug,...t),log:(...t)=>se(console.log,...t),warn:(...t)=>se(console.warn,...t),error:(...t)=>se(console.error,...t)},re=class re extends Event{constructor(e,n){super(re.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=n}};p(re,"EVENT_NAME",Ee("wxt:locationchange"));let Se=re;function Ee(t){var e;return`${(e=E==null?void 0:E.runtime)==null?void 0:e.id}:jd:${t}`}function Vt(t){let e,n;return{run(){e==null&&(n=new URL(location.href),e=t.setInterval(()=>{let o=new URL(location.href);o.href!==n.href&&(window.dispatchEvent(new Se(o,n)),n=o)},1e3))}}}const Y=class Y{constructor(e,n){p(this,"isTopFrame",window.self===window.top);p(this,"abortController");p(this,"locationWatcher",Vt(this));p(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return E.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,n){const o=setInterval(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearInterval(o)),o}setTimeout(e,n){const o=setTimeout(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearTimeout(o)),o}requestAnimationFrame(e){const n=requestAnimationFrame((...o)=>{this.isValid&&e(...o)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(e,n){const o=requestIdleCallback((...s)=>{this.signal.aborted||e(...s)},n);return this.onInvalidated(()=>cancelIdleCallback(o)),o}addEventListener(e,n,o,s){var r;n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(r=e.addEventListener)==null||r.call(e,n.startsWith("wxt:")?Ee(n):n,o,{...s,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Ot.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:Y.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var r,i,a;const n=((r=e.data)==null?void 0:r.type)===Y.SCRIPT_STARTED_MESSAGE_TYPE,o=((i=e.data)==null?void 0:i.contentScriptName)===this.contentScriptName,s=!this.receivedMessageIds.has((a=e.data)==null?void 0:a.messageId);return n&&o&&s}listenForNewerScripts(e){let n=!0;const o=s=>{if(this.verifyScriptStartedEvent(s)){this.receivedMessageIds.add(s.data.messageId);const r=n;if(n=!1,r&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",o),this.onInvalidated(()=>removeEventListener("message",o))}};p(Y,"SCRIPT_STARTED_MESSAGE_TYPE",Ee("wxt:content-script-started"));let Ce=Y;function Ht(){}function oe(t,...e){}const qt={debug:(...t)=>oe(console.debug,...t),log:(...t)=>oe(console.log,...t),warn:(...t)=>oe(console.warn,...t),error:(...t)=>oe(console.error,...t)};return(async()=>{try{const{main:t,...e}=Mt,n=new Ce("jd",e);return await t(n)}catch(t){throw qt.error('The content script "jd" crashed on startup!',t),t}})()}();
jd;
